<p>Letâ€™s add a new feature to the gadget, so that the author can set the background color. The color will be stored as a new attribute <code>bodyColor</code> in the gadget configuration.</p>

<p>To let the gadget author edit the color, we use a <strong>property sheet</strong>. This is a feature of the player that is convenient for editing simple attributes.</p>

<p>We need to make only two changes to the gadget code:</p>

<ol>
  <li>Configure the property sheet</li>
  <li>Set the background color on <code>attributesChanged</code></li>
</ol>

<p>To configure the property sheet, we just need to add a call to the player API (anywhere after creating the <code>player</code> object):</p>

<p><code>
player.setPropertySheetAttributes({
     bodyColor:  { type: 'Color'}
});
</code></p>

<p>To set the background color, we modify the <code>attributesChanged</code> handler like this:</p>

<p><code>
player.on('attributesChanged', function(data){
  if(data.greeting) {
    greeting.value = data.greeting;
  }
  if (data.bodyColor) {
    document.querySelector('body').style.background = data.bodyColor;
  }
});
</code></p>

<p>Now reload the browser window with the gadget. Click on the cogwheel icon to open the property sheet. You can now select a color:</p>

<p><img src="images/my-gadget-3.png" alt="lesson with colored gadget" title="Lesson with colored gadget" /></p>
