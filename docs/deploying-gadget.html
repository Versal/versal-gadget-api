<p>After you create the HTML and JS files for your gadget, you will want to test your gadget visually and then upload it.</p>

<h3 id="the-deployment-cycle">The deployment cycle</h3>

<ul>
  <li>Test the gadget locally on your development machine</li>
  <li>Deploy the gadget in a “sandbox” on Versal.com</li>
  <li>Create a course that uses your gadget</li>
  <li>Develop, test, and deploy an updated version of the gadget</li>
  <li>Update the gadget in the course(s) using it</li>
</ul>

<h3 id="testing-locally">Testing locally</h3>

<p>Go to the gadget directory (where <code>versal.json</code> is located) and run the command</p>

<p><code>
versal preview
</code></p>

<p>This command starts a local HTTP server on port 3000. Open the URL <a href="http://localhost:3000">localhost:3000</a> in a browser. You will see an empty lesson page and your gadget’s icon in the bottom tray. Double-click on the gadget icon to insert the gadget into the lesson. This is how a course author will start using your gadget in a new course. You can now interact with your gadget, both as a course author and as a learner. (Click the “cogwheel” icon to toggle gadget editing.)</p>

<p>Pro tip: While this local HTTP server is running, you can continue changing the gadget’s code. Just refresh the browser to see the changes live! (Except if you change <code>versal.json</code> then you need to restart <code>versal preview</code> to see the changes.)</p>

<h3 id="deploying-in-sandbox">Deploying in sandbox</h3>

<p>If you haven’t yet deployed your gadget, make sure that you sign in to Versal:</p>

<p><code>
versal signin
</code></p>

<p>Go to the gadget directory and run the command</p>

<p><code>
versal upload
</code></p>

<p>The gadget will be uploaded to the Versal platform. However, this gadget is uploaded in a “sandbox”. It is not yet approved for the entire world to see, and will be visible only in courses authored by yourself.</p>

<p>**WARNING: There are size restrictions in place when uploading gadgets. To exclude development resources and other extraneous files add their paths to a file in the root of your gadget project called <code>.versalignore</code> (works like <code>.gitignore</code>).</p>

<h3 id="inserting-a-gadget-into-a-course">Inserting a gadget into a course</h3>

<p>Go to <a href="http://versal.com">versal.com</a>. You will need to authenticate; ask us for details. Sign in to <code>versal.com</code> and create a new course. After you start editing the new course, click on the “Sandbox” tray in the bottom; you should see your new gadget available. Drag your gadget into the lesson to start using it.</p>

<h3 id="updating-a-published-gadget">Updating a published gadget</h3>

<p>To update a published gadget, you need to do two things:</p>

<ol>
  <li>Change the gadget version upwards (e.g. from <code>0.1.3</code> to <code>0.1.4</code>) in <code>versal.json</code></li>
  <li>Upload the gadget again (<code>versal upload</code>) and request approval</li>
</ol>

<p>Suppose you already created some courses that use your gadget version <code>0.1.3</code>, and now you published an updated version <code>0.1.4</code>. When you do this, the courses do not automatically start using the updated version. To avoid breaking the existing courses, all older gadget versions will be preserved by the platform. The course authors need to agree explicitly to upgrade your gadget to a new version.</p>

<p>Go to the course you created where your gadget has been used. Click on the “Sandbox” tray and you will see that your gadget’s icon has a band on it, indicating that an upgrade is available. Click on the band and confirm the upgrade to a new version.</p>
